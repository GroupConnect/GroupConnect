{% load static filename %}
<!DOCTYPE html>
<html>
    <head>
        <title> 掲示板 </title>
        <meta charset="utf-8">
        <meta name="description" content="">
        <meta name="author" content="">
        <meta name="viewport" content="width=device-width, inital-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="{% static 'GroupConnect/css/bord.css' %}" />
    </head>
    <body>
    <div  class="nav-bar fixed-top">
        <!-- ナビゲーションバー -->
    <nav class="navbar navbar-expand-sm navbar-light bar">
        <a class="navbar-brand groupconnect" href="mypage">GroupConnect</a>
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#Navber" aria-controls="Navber" aria-expanded="false" aria-label="ナビゲーションの切替">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="Navber">
            <ul class="navbar-nav">
                <li class="nav-item active dropdown">
                    <a href="#" class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    グループ
                    </a>
                    <div class="dropdown-menu menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="grouptop">グループ名</a>
                        <a class="dropdown-item" href="grouptop">グループ名</a>
                        <a class="dropdown-item" href="grouptop">グループ名</a>
                        <a class="dropdown-item" href="grouptop">グループ名</a>
                        <a class="dropdown-item" href="grouplist">グループ一覧へ</a>
                    </div>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item active dropdown">
                    <a href="#" class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    アカウント
                    </a>
                    <div class="dropdown-menu menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="profile">プロフィール設定</a>
                        <a class="dropdown-item" href="mail_setting">メール設定</a>
                        <a class="dropdown-item" href="pass_setting">パスワード設定</a>
                        <a class="dropdown-item" href="logout">ログアウト</a>
                    </div>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item active dropdown mega-dropdown">
                    <a href="#" class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    グループメニュー
                    </a>
                    <div class="dropdown-menu mega-dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item d-inline grname" href="grouptop">(グループ名)</a>
                    <a class="dropdown-item d-inline" href="bordlist">掲示板</a>
                    <a class="dropdown-item d-inline" href="group_setting">設定</a>
                    </div>
                </li>
            </ul>
        </div>
        </nav>
    </div>
    <div class="container-fluid" id="container">
            <div class="row">
                <!-- サイドバー -->
                <div class="col-lg-2 side">
                    <div class="row">
                        <div class="col-lg-12 side-top">
                            <nav class="navbar navbar-light">
                                <a class="navbar-brand side-grname" href="grouptop">(グループ名)</a>
                            </nav>
                        </div>
                        <div class="col-lg-12 side-up">
                            <p class="d-inline navbar-brand bordlist">掲示板</p>
                        </div>
                        <div class="col-lg-12 side-middle">
                            <p class="d-inline ctgr">カテゴリ</p>
                            <a id="category-btn" href="#"><addr title="カテゴリーの追加" class="d- inline create-ctgr">追加</addr></a>
                            <!-- modal content -->
                            <form class="d-inline" method="POST">
                            <div class="modal fade" id="modal">
                                <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                        <!-- モーダルヘッダー -->
                                        <div class="modal-header">
                                            <h5 class="modal-title">カテゴリの作成</h5>
                                        </div>
                                        <!-- モーダルボディ -->
                                        <div class="modal-body">
                                            <p class="modal-category">カテゴリ名</p>
                                            <input type="text" class="form-control" id="input-1" placeholder="タイトルを入力">
                                        </div>
                                        <!-- モーダルフッター -->
                                        <div class="modal-footer">
                                            <input type="submit" class="btn btn-primary" data-dismiss="modal" value="作成">
                                            <button type="button" class="btn btn-secondary" id="close">キャンセル</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </form> 
                        </div>
                        <div class="col-lg-12 side-down">
                            <!-- サイドバードロップダウンメニュー -->
                            <div class="sidebar-dropdown">
                                <div class="sidebar-dropdown">
                                    <button type="button" class="btn dropdown-toggle dropdown-toggle-split sidebtn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">未分類１</a>
                                        <a class="dropdown-item" href="#">未分類２</a>
                                        <a class="dropdown-item" href="#">Python</a>
                                        <a class="dropdown-item" href="#">セキュリティ</a>
                                        <a class="dropdown-item" href="#">リレー</a>
                                        <a class="dropdown-item" href="#">ダンス</a>
                                    </div>
                                    <p class="d-inline">　すべて</p>
                                </div>
                                <p class="d-inline quantity">(6)</p>
                                <div class="sidebar-dropdown">
                                    <button type="button" class="btn dropdown-toggle dropdown-toggle-split sidebtn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">未分類1</a>
                                        <a class="dropdown-item" href="#">未分類2</a>
                                    </div>
                                    <p class="d-inline">　未分類</p>
                                        
                                </div>
                                <p class="d-inline quantity">(2)</p>
                                <div class="sidebar-dropdown">
                                    <button type="button" class="btn dropdown-toggle dropdown-toggle-split sidebtn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">Python</a>
                                        <a class="dropdown-item" href="#">セキュリティ</a>
                                    </div>
                                    <p class="d-inline">　授業</p>
                                </div>
                                <p class="d-inline quantity">(2)</p>
                                <div class="sidebar-dropdown">
                                    <button type="button" class="btn dropdown-toggle dropdown-toggle-split sidebtn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">リレー</a>
                                        <a class="dropdown-item" href="#">ダンス</a>
                                    </div>
                                    <p class="d-inline">　スポフェス</p>
                                </div>
                                <p class="d-inline quantity">(2)</p>
                                <div class="sidebar-dropdown">
                                    <button type="button" class="btn dropdown-toggle dropdown-toggle-split sidebtn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">てきとー</a>
                                        <a class="dropdown-item" href="#">てきとー</a>
                                    </div>
                                    <p class="d-inline">　てきとー</p>
                                </div>
                                <p class="d-inline quantity">(2)</p>
                                <div class="sidebar-dropdown">
                                    <button type="button" class="btn dropdown-toggle dropdown-toggle-split sidebtn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">てきとー</a>
                                        <a class="dropdown-item" href="#">てきとー</a>
                                    </div>
                                    <p class="d-inline">　てきとー</p>
                                </div>
                                <p class="d-inline quantity">(2)</p>
                                <div class="sidebar-dropdown">
                                    <button type="button" class="btn dropdown-toggle dropdown-toggle-split sidebtn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">てきとー</a>
                                        <a class="dropdown-item" href="#">てきとー</a>
                                    </div>
                                    <p class="d-inline">　てきとー</p>
                                </div>
                                <p class="d-inline quantity">(2)</p>
                                <div class="sidebar-dropdown">
                                    <button type="button" class="btn dropdown-toggle dropdown-toggle-split sidebtn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">てきとー</a>
                                        <a class="dropdown-item" href="#">てきとー</a>
                                    </div>
                                    <p class="d-inline">　てきとー</p>
                                </div>
                                <p class="d-inline quantity">(2)</p>
                                <div class="sidebar-dropdown">
                                    <button type="button" class="btn dropdown-toggle dropdown-toggle-split sidebtn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">てきとー</a>
                                        <a class="dropdown-item" href="#">てきとー</a>
                                    </div>
                                    <p class="d-inline">　てきとー</p>
                                </div>
                                <p class="d-inline quantity">(2)</p>
                                <div class="sidebar-dropdown">
                                    <button type="button" class="btn dropdown-toggle dropdown-toggle-split sidebtn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">てきとー</a>
                                        <a class="dropdown-item" href="#">てきとー</a>
                                    </div>
                                    <p class="d-inline">　てきとー</p>
                                </div>
                                <p class="d-inline quantity">(2)</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- メインコンテンツ -->
                <div class="col-lg-10 right">
                    <div class="row row3">
                        <div class="col-lg-12 up">
                            <div class="headline">
                                <nav aria-label="パンくずリスト">
                                    <ol class="breadcrumb">
                                        <li class="breadcrumb-item"><a href="bordlist">掲示板一覧</a></li>
                                        <li class="breadcrumb-item active" aria-current="page">{{ signboard.title }}</li>
                                    </ol>
                                </nav>
                                <nav class="navbar navbar-expand-md navbar-light bar3">
                                    <p class="bord-name">{{ signboard.title }}</p>
                                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav4" aria-controls="navbarNav4" aria-expanded="false" aria-label="Toggle navigation">
                                        <span class="navbar-toggler-icon"></span>
                                    </button>
                                    
                                    <div class="collapse navbar-collapse justify-content-end" id="navbarNav4">
                                    
                                        <div class="nav-item active dropdown signboard-setting">
                                            <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">昇順</button>
                                            <ul class="dropdown-menu">
                                                <li><button class="dropdown-item" value="昇順">昇順</button></li>
                                                <li><button class="dropdown-item" value="降順">降順</button></li>
                                            </ul>
                                        </div>

                                        <div class="nav-item active configuration signboard-setting">
                                            <a href="bord_setting"><button class="btn btn-secondary">掲示板設定</button></a>
                                        </div>
                                        <div class="nav-item active borddelete">
                                            <input type="button" class="btn btn-primary" data-toggle="modal" data-target="#basicModal" value="掲示板削除">
                                            <form class="d-inline" method="GET">
                                                {% csrf_token %}
                                                <div class="modal fade"id="basicModal"tabindex="-1"role="dialog"aria-labelledby="basicModal"aria-hidden="true">
                                                    <div class="modal-dialog">
                                                        <div class="modal-content">
                                                            <div class="modal-body">
                                                                <h3>この操作は元に戻せません。<br>掲示板を削除してもよろしいですか？</h3>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <input type="submit" class="btn btn-primary" value="はい">
                                                                <button type="button" class="btn btn-default"data-dismiss="modal">いいえ</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </nav> 
                            </div>
                            <div class="post-area">
                                <div class="rounded p-4 background area">
                                    <form action="{% url 'GroupConnect:signboard' signboard.id %}" id="post-form" method="POST" enctype="multipart/form-data">
                                        {% csrf_token %}
                                        <div class="form-group d-inline">
                                            <textarea class="form-control" name="post_text" id="UserInput" rows="6"></textarea>
                                            <div class="form-group file-choice">
                                                <div id="file" class="input-group">
                                                    <div class="custom-file">
                                                        <input type="file" id="customfile" class="custom-file-input" name="attached_file" lang="ja" />
                                                        <label class="custom-file-label" for="customfile">ファイル選択...</label>
                                                    </div>
                                                    <div class="input-group-append">
                                                        <button type="button" class="btn btn-outline-secondary reset">取消</button>
                                                    </div>
                                                </div>
                                                {% comment %} <input type="file" name="attached_file"> {% endcomment %}
                                            </div>
                                            <input type="submit" id="button" class="btn btn-warning post-button" value="投稿">
                                        </div>         
                                    </form>
                                </div>

                                <div id="large-frame">

                                    {% for post in post_list %}
                                        <div class="post-frame" id="post-frame{{ forloop.counter0 }}">
                                            <div class="post-outside" id="post-outside1">
                                                <div class="post">
                                                    <p class="Contributor">{{ post.contributer }}</p><p class="time">{{ post.diff_date }}</p><a class="post-delete" data-toggle="modal" data-target="#basicModal3" href="">投稿を削除</a>
                                                    <p class="letter-body"><a href="{% url 'GroupConnect:signboard' signboard.id post.id %}" class="post-text">{{ post.text|linebreaks }}</a></p>
                                                    {% if post.attached_file %}
                                                        <a class="filename" href="{{ post.attached_file.url }}">{{ post.attached_file|get_filename }}
                                                            {% if post.is_image_type %}
                                                                <img src="{{ post.attached_file.url }}" id="passcheck2" class="download-icon">
                                                            {% endif %}
                                                        </a>
                                                    {% endif %}
                                                </div>
                                                
                                                <button type="button" class="btn btn-light rounded-pill" id="reply-show{{ forloop.counter0 }}">返信フォームを表示</button>
                                                <button type="button" class="btn btn-light rounded-pill reply-hide" id="reply-hide{{ forloop.counter0 }}">返信フォームを隠す</button>

                                            </div>
                                            <form action="{% url 'GroupConnect:signboard' signboard.id %}" class="reply-form" id="post-form{{ forloop.counter0 }}" method="POST" enctype="multipart/form-data">
                                                {% csrf_token %}
                                                <div class="form-group d-inline">
                                                    <textarea class="form-control" id="UserInput" name="reply_text" rows="6"></textarea>
                                                    <div id="file" class="input-group">
                                                        <div class="custom-file">
                                                            <input type="file" id="customfile" class="custom-file-input" name="attached_file" lang="ja" />
                                                            <label class="custom-file-label" for="customfile">ファイル選択...</label>
                                                        </div>
                                                        <div class="input-group-append">
                                                            <button type="button" class="btn btn-outline-secondary reset">取消</button>
                                                        </div>
                                                    </div>
                                                    {% comment %} <input type="file" name="attached_file{{ forloop.counter0 }}"> {% endcomment %}
                                                    <input type="hidden" name="reply_source" value="{{ post.id }}">
                                                    <input type="submit" id="button" class="btn btn-warning reply-button" value="返信">
                                                </div>       
                                            </form>
                                        </div>
                                    {% endfor %}

                                </div>
                                
                            </div>    
                        </div>
                    </div>
                </div>         
            </div>
    </div>
    
            
            
            
        
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
        <script type="text/javascript" src="{% static 'GroupConnect/js/bord.js' %}"></script>
    </body>
</html>